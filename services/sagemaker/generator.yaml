operations:
  StopTrainingJob:
    operation_type: Delete
    resource_name: TrainingJob
resources:
  Model:
    exceptions:
      errors:
        404:
          code: ValidationException
          message_prefix: Could not find model
  TrainingJob:
    exceptions:
      errors:
          404:
            code: ValidationException
            message_prefix: Requested resource not found
    fields:
      TrainingJobStatus:
          is_read_only: true
          from:
            operation: DescribeTrainingJob
            path: TrainingJobStatus
      SecondaryStatus:
        is_read_only: true
        from:
          operation: DescribeTrainingJob
          path: SecondaryStatus
      DebugRuleEvaluationStatuses:
        is_read_only: true
        from:
          operation: DescribeTrainingJob
          path: DebugRuleEvaluationStatuses
      FailureReason:
        is_read_only: true
        from:
          operation: DescribeTrainingJob
          path: FailureReason 
  EndpointConfig:
    exceptions:
      errors:
        404:
          code: ValidationException
          message_prefix: Could not find endpoint configuration
    references:
      ProductionVariant.ModelName:
        apiVersion: sagemaker.services.k8s.aws/v1alpha1
        kind: Model
        value: Spec.ModelName
        # because there are resource which do not have ARN
        checks:
          - field: Status.ackResourceMetadata.arn
ignore:
    resource_names:
      - Algorithm
      - App
      - AutoMLJob
      - CodeRepository
      - CompilationJob
      - Domain
      - EndpointConfig
      # - TrainingJob
      # - Model
      - Endpoint
      - Experiment
      - FlowDefinition
      - HumanTaskUi
      - HyperParameterTuningJob
      - LabelingJob
      - ModelPackage
      - MonitoringSchedule
      - NotebookInstanceLifecycleConfig
      - NotebookInstance
      - PresignedDomainUrl
      - PresignedNotebookInstanceUrl
      - ProcessingJob
      - TransformJob
      - TrialComponent
      - Trial
      - UserProfile
      - Workforce
      - Workteam